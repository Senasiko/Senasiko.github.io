<html><head><title>react-native-question</title><link href="/new/static/css/app.css" rel="stylesheet"/><link href="/new/static/css/react.main.css" rel="stylesheet"/><link href="/new/static/css/markdown.css" rel="stylesheet"/><link href="/new/static/css/main.css" rel="stylesheet"/><style>#userMsgMask {
  /*-webkit-mask-image: url('/new/static/img/mask.png');*/
}</style><script>window.rootPath = '/new';</script><script src="/new/static/js/jquery-3.3.1.min.js"></script><script src="/new/static/js/router.js"></script><script src="/new/static/js/react.main.js"></script><script src="/new/static/js/vue.manifest.js"></script><script src="/new/static/js/vue.vendor.js"></script><script src="/new/static/js/vue.app.js"></script></head><body><div id="loading"><i class="anticon anticon-spin anticon-loading"></i></div><div id="userMsgMask"><div id="userMsg"></div><script type="text/javascript">$(document).ready(function () {
  $('#loading').hide();
  var userMsg = window.vueCom.userMsg('#userMsg', {
    data: {
      img: '/new/static/img/user.png',
      msgs: [{"icon":"","value":"Sena","link":"/new"},{"icon":"anticon anticon-calendar","value":"1996-01-27"},{"link":"mailto: senasiko@gmail.com","value":"senasiko@gmail.com","icon":"anticon anticon-mail"},{"icon":"anticon anticon-github","link":"https://github.com/Senasiko","newTag":true},{"icon":"anticon anticon-qq","link":"tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=284476221"}]
    }
  })
});</script></div><div class="right-container"><div class="panel post-detail"><h1>react-native开发过程中遇到的问题</h1><div class="markdown-body"><h2>使用 <code>react-native-video</code> ，安装app报错</h2>
<h3>原因</h3>
<p>版本问题：<code>&quot;react-native-video&quot;: &quot;^1.2.0&quot;,</code> 和 <code>&quot;react-native&quot;: &quot;^0.47.0&quot;,</code></p>
<h3>解决办法</h3>
<p>参照 <a href="https://github.com/react-native-community/react-native-video/pull/718/files">这里</a></p>
<h2>使用reducer组件不更新</h2>
<h3>原因</h3>
<p>reducer 中 newState 不能指向 state，指向的话会认为没有变化。</p>
<h3>解决办法</h3>
<p><code>newState = {...state}</code>
ps: 在 <code>switch case</code> 中 <code>default</code> 必须返回原 state，即</p>
<pre><code>switch(action.type){
...
default: return state;break;
}
</code></pre>
<h2>react-native run-android 时报 cannot delete path ... 错误</h2>
<h3>解决办法</h3>
<p><code>cd android &amp;&amp; gradlew.bat clean</code></p>
</div></div></div><script>document.body.innerHeight = window.innerHeight;
document.body.innerWidth = window.innerWidth;</script></body></html>